> RDB 정규화 관련 내용 정리
# 1. 정규화란?
관계형 데이터베이스에서는 테이블 간의 연관관계를 설정할 수 있으며, 이를 통해 여러 테이블을 묶어서 조회 및 수정 등의 작업을 이룰 수 있다.
이 때, 작업의 주체가 되는 테이블 내 데이터들의 중복 여부 등에 대한 정합성 및 원자성 등의 속성을 유지하기 위해 테이블, 스키마 구조 등을 그에 맞게 분리하는 것을 정규화라고 한다.

**주요 장점**
- 정규화를 통해 데이터들의 정합성, 무결성 등을 유지할 수 있음 동시에 중복된 데이터들을 제거하여 DB의 용량도 줄일 수 있다.

**주요 단점**
- 정규화를 통해 테이블들을 분리해놨기에 필요한 데이터 조회 시 테이블들의 JOIN 쿼리가 상대적으로 많이 발생할 수 있다.
	- 이에 따른 성능 문제 발생 가능
> [!NOTE]
> 일부의 경우 자주 조회되는 데이터들이 JOIN이 많은 요소들일 경우 정규화하지 않고 사용하는 경우도 있다.
# 2. 정규화 종류
정규화는 테이블 내 데이터를 분리해야하는 기준 및 요소에 따라 아래와 같이 여러 단계로 나뉜다.
## 2-1. 제 1 정규화
한 테이블 내 너 컬럼들은 각각 하나의 값만을 지녀야 한다.
![](images/Pasted%20image%2020231218010135.png)
위와 같은 테이블이 있을 때 취미들 컬럼 내 특정 값들은 여러 데이터를 내포하고 있다. 이는 제 1정규화 대상으로 아래와 같이 컬럼 내 값들을 유일하게 나누어 주는 것을 제 1 정규화라고 한다.
![](images/Pasted%20image%2020231218010226.png)

## 2-2. 제 2 정규화
제 1정규화된 테이블이 완전 함수 종속을 만족하도록 하는 것을 제 2 정규화라고 한다.
> [!NOTE]
> **완전 함수 종속**
> 
> 기본식별키의 어떠한 부분집합도 어느 특정 컬럼의 결정자가 되지 않는 것

![](images/Pasted%20image%2020231218010423.png)
위와 같은 테이블에서 식별키는 (학생번호, 강좌이름) 이나 식별키에 대한 부분집합에 해당하는 (강좌이름)이 강의실에 대한 결정자이기에 이는 완전 함수 종속에 어긋나는 형태이다.

이러한 형태를 아래와 같이 분리하여 완전 함수 종속이 되게끔 할 수 있다.
![](images/Pasted%20image%2020231218010528.png)
## 2-3. 제 3 정규화
제 2정규화를 이룬 테이블 내 데이터에 이행적 종속 관계를 제거하는 것을 제 3 정규화라고 한다.
> [!NOTE]
> **이행적 종속 관계**
> 
> 한 테이블 내 A ->B 이고 B -> C일 때 A -> C를 성립하는 것

![](images/Pasted%20image%2020231218010807.png)
위와 같이 (학생번호)가 (강좌이름) 에 대한 결정자이며, (강좌이름)이 (수강료) 에 대한 결정자이기에 이는 이행적 종속 관계이며, 이를 아래와 같이 분리하여 해소할 수 있다.
![](images/Pasted%20image%2020231218010920.png)
## 2-4. BCNF 정규화
제 3정규화된 테이블의 모든 결정자가 후보키 집합에 속한 것을 BCNF 정규화라고 한다.
![](images/Pasted%20image%2020231218011102.png)
제 3정규화를 마친 위와 같은 테이블의 경우 (학생번호), (특강이름) 을 식별키로 하여 교수를 식별하는데, (교수)가 (특강이름) 에 대한 결정자가 되어, 후보키 (학생번호, 특강이름) 에 포함되지 않은 결정자가 형성되는 것을 볼 수 있다.
> [!NOTE]
> 이러한 상태에서는 일부 테이블 내 컬럼 값이 중복되는 현상이 나타나게 된다.



그렇기에 BCNF 정규화를 만족하기 위해서는 아래와 같이 테이블을 분리하여야 한다.
![](images/Pasted%20image%2020231218011252.png)
# Ref
- https://superohinsung.tistory.com/111
- https://mangkyu.tistory.com/110