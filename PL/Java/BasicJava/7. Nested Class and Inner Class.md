> 중첩 클래스와 내부 클래스

# 클래스 내부 선언
Java에서는 `class` 안에 별도의 `class` 를 새로 선언하여 사용할 수 있도록 지원한다.
```java
public class ParentClass {  
    static class StaticNestedClass {  
        // 정적 중첩 클래스  
    }  
  
    class InnerClass {  
        // 내부 클래스  
    }  
}
```

위와 같이 특정 `class` 내부에 어떠한 영역이든 별도의 `class`를 생성할 수 있다.
이와같은 `class`를 `Nested Class (중첩 클래스)` 혹은 `Inner Class (내부 클래스)`라고 하며 생성되는 위치에 따라 크게 아래 4종류로 구분된다
- **Static Nested Class** : 정적 중첩 클래스라고 하며 내부 클래스 선언 시 `static` 키워드를 통해 정적 객체로 생성한 클래스를 뜻함
- **Inner Class** : 일반적인 내부 클래스를 뜻하며 특정 클래스 하위 필드 영역에 선언된 클래스를 뜻함
- **Local Class** : 지역 클래스를 뜻하며, 지역 변수와 마찬가지로 코드 블럭 내에 선언되어 해당 블럭 내에서만 사용가능 한 클래스를 뜻함.
- **Anonymous Class** : 익명 클래스를 뜻하며, `Local Class`의 한 일종이나 **Java1.8**에서 도입된 `lambda`식 등을 통해 별도의 선언 없이 1회성으로 사용되는 클래스를 뜻함

> [!NOTE]
> **중첩 클래스와 내부 클래스의 차이**
> 
> 위 4개의 클래스 종류를 보면 `Static Nested Class`의 경우에는 **중첩 클래스**, 나머지 세 종류는 **내부 클래스**라고 표현한다. 
> 
> 이는 **중첩 클래스**의 경우 상위 클래스와의 연관관계가 없이 그저 위치만 상위 클래스 내부에 위치하여, 상위 클래스 뿐만 아닌 다른 클래스들과의 상호 작용이 가능한 클래스를 뜻하기 때문이며, **내부 클래스**의 경우 비즈니스 흐름 상 상위 클래스에 종속적인 클래스를 뜻하며, 다른 외부 클래스들과는 연관관계가 없는 클래스를 뜻한다.

> [!NOTE]
> **중첩/내부 클래스를 사용하는 이유**
> 
> 주로 이러한 **중첩/내부 클래스** 를 사용하는 목적은 상위 클래스와의 강한 관계로 묶여있거나 상위 클래스에서만 쓰이는 클래스를 선언할 필요가 있을 때 사용되며, 이를 통해 보다 논리적인 캡슐화를 이룰 수 있기 때문이다.

# 중첩 클래스
정확히는 `정적 중첩 클래스`를 뜻하며, 아래와 같이 구성된 클래스를 의미한다.
```java
public class NestedParent {  
    private static int NESTED_VALUE = 1;  
    private int instanceValue = 10;  
  
    static class NestedChild {  
        private int childValue = 99;  
  
        public void print() {  
            System.out.println("NestedParent.NESTED_VALUE = " + NESTED_VALUE);  
  
            // 중첩 클래스에선 상위 클래스의 인스턴스 변수는 접근 불가  
            // System.out.println("NestedParent.instanceValue = " + instanceValue);  
  
            System.out.println("NestedChild.childValue = " + childValue);  
        }  
    }  
}
```

위와 같이 이루어진 `정적 중첩 클래스`를 코드에서 표현된 것처럼 상위 클래스의 정적 영역에 선언된 필드 값과 본인의 인스턴스 필드 값에 접근이 가능하다.

## 주요 특징
### private 제한자 접근 가능
```java
public class NestedParent {  
    private static int NESTED_VALUE = 1;  
    ...
  
    static class NestedChild {  
        ...
        System.out.println(NestedParent.NESTED_VALUE);
    }
```
일반적으로 정적 영역에 선언된 필드 값은 어떠한 클래스에서도 접근 가능한것이 맞지만, `private`접근 제한자로 설정된 필드 값은 접근 할 수 없다.

하지만 `중첩 클래스`의 경우 해당 클래스 내부에 존재하기에 `private` 접근 제한자로 지정된 정적 영역도 접근이 가능하다.

### 독립적인 초기화
앞서 위의 구성한 `중첩 클래스`는 아래처럼 선언하여 사용할 수 있다.
```java
public class NestedParentMain {  
    public static void main(String[] args) {  
        // NestedParent parent = new NestedParent();  
        NestedParent.NestedChild child = new NestedParent.NestedChild();  
  
        child.print();  
    }  
}
```
위의 코드를 보면 상위 클래스의 초기화 여부와 관계 없이 독자적으로 초기화하여 사용할 수 있다. 이는 실질적으로 `중첩 클래스`와 상위 클래스는 연관 관계가 없는 독자적인 클래스이며, 단순히 상위 클래스 내에 중첩되어 정의되어 있는 것이기에 가능한 것이다.