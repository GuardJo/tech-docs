> Java에서 제공하는 Generic 에 대한 학습 내용 정리

# 다형성에서의 타입 안전성 문제
Java에서는 모든 객체는 별도로 명시하지 않을 경우 `Object` 객체의 하위 객체들이다. 그렇기에 메소드의 인자나 필드의 타입을 `Object` 타입으로 선언할 경우 Java 내 모든 타입의 데이터를 매핑할 수 있게 된다.

## 다형성을 통한 중복 코드 제거
```java
public class IntegerBox {  
    private Integer value;  
  
    public void set(Integer value) {  
        this.value = value;  
    }  
  
    public Integer get() {  
        return this.value;  
    }  
}
...
public class StringBox {  
    private String value;  
  
    public void set(String value) {  
        this.value = value;  
    }  
  
    public String get() {  
        return value;  
    }  
}
...
public class BoxMain {  
    public static void main(String[] args) {  
        IntegerBox integerBox = new IntegerBox();  
        integerBox.set(10);  
        System.out.println(integerBox.get());  
  
        StringBox stringBox = new StringBox();  
        stringBox.set("test");  
        System.out.println(stringBox.get());  
    }  
}
```

만약 위와 같이 Java 내 데이터 타입 별로 위와 같은 객체를 구성해야 할 경우, 데이터 타입의 수만큼 중복 코드가 발생하게 된다.

이를 아래와 같이 `Object` 객체로 구성할 경우 데이터 타입 별로 중복 코드를 지닌 객체들을 구성할 필요 없이 하나의 객체로 모든 데이터 타입을 처리할 수 있게 된다.
```java
public class ObjectBox {  
    private Object value;  
  
    public void set(Object value) {  
        this.value = value;  
    }  
  
    public Object get() {  
        return value;  
    }  
}
...
public class BoxMain {  
    public static void main(String[] args) {  
        ObjectBox integerBox = new ObjectBox();  
        integerBox.set(10);  
  
        Integer integer = (Integer) integerBox.get(); // Required downcasting
        System.out.println(integer);  
  
        ObjectBox stringBox = new ObjectBox();  
        stringBox.set("Hello");  
        String string = (String) stringBox.get(); // Required downcasting
        System.out.println(string);  
    }  
}
```

위와 같이 다형성 메소드로 구성된 **ObjectBox** 객체를 통해 다양한 데이터 타입을 하나의 객체에서 처리할 수 있게 된다.
단, 이 때 메소드를 통해 반환되는 값도 `Object` 타입이기에 각각 원하는 데이터 타입으로 **DownCasting** 작업이 필요하다.

이 때, 만약 아래와 같이 의도치 않은 데이터 타입을 주입할 경우 `ClassCastException`이 발생할 수 있다.
```java
integerBox.set("test");
Intenger number = (Integer) integerBox.get(); // `ClassCastException`
```

이 때문에, `Object` 타입을 통한 다형성 메소드를 통해 중복 코드를 정리하게 되면, 컴파일 시점에서 위와 같은 문제를 식별 할 수 없기에 런타임 환경에서 위와 같은 문제가 발생할 수 있으며, 결국 **타입 안전성**이 떨어지게 된다.