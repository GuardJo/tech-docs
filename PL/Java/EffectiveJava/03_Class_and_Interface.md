> Effective Java 관련 학습 : 클래스와 인터페이스

# 1. 클래스와 멤버의 접근 권한을 최소화하라
효율적인 객체지향 설계 관점에서는 외부에 제공하는 객체의 요소들은 최소화 하는 것이 좋다.

사용자 입장에서는 명확하게 필요한 API들만을 식별할 수 있기에 좋으며, 개발자 입장에서는 외부에 공개되는 API, 메소드들을 제외한 나머지 요소들은 내부에서 수정하기 용이하며, 외부에 관리해야할 요소들을 줄일 수 있다.
- *이는 정보 은닉, 캡슐화의 한 맥락으로 볼 수 있다.*

## 1-1. 정보 은닉
Java에서는 위와 같은 요소를 제공하기 위해 클래스, 메소드, 필드 등에 접근 제한을 지정할 수 있다.

외부 사용자에게 노출해야할 요소들은 `public` 하게 선언해 모든 사용자가 접근할 수 있게 하며, 이외에는 접근할 수 없도록 `private`, `protected` 등으로 제한한다.

### 1-1-1. 접근 제한자
`public`
- 외부 모든 곳에서 접근 가능한 요소
`package-pivate`
- 해당 패키지와 동일한 패키지 내에서만 접근 가능한 요소
`protected`
- 해당 패키지와 동일한 패키지 및 해당 요소의 하위 요소까지 접근 가능
`private`
- 해당 객체 내에서만 접근 가능

## 1-2. public 클래스의 필드 접근 제한
`public` 접근 제한자로 외부 모든 요소에서 접근할 수 있도록 풀려 있는 class 에서는 내부 인스턴스 필드들의 접근 제한을 최대한 제한해야 한다.

만약 내부 필드들도 `public` 하게 공개되어 있을 경우, 누구나 해당 필드를 수정할 수 있기에 클래스 입장에서 해당 필드들에 대한 제어권을 잃게 된다.
- *또한 배열 객체의 경우 크기가 0이 아니면 `final`필드여도 수정이 가능하기에 주의해야 한다*

> [!NOTE]
> **Java Module System**
> 
> java 9 에서 추가된 모듈 시스템은 패키지들을 묶는 단위로 볼 수 있으며, 모듈에 포함된 요소들은 모듈의 설정에 따라 외부에 공개 여부를 지정할 수 있다.
> 
> 이를 통해 `public`으로 지정된 요소여도 모듈의 설정에 따라 외부에는 공개되지 않을 수도 있다.

# 2. public 클래스에서는 public 필드가 아닌 접근자 메소드를 사용하라
Java에서 `public` 클래스로 외부에서 접근할 수 있도록 개방된 class 내에는 `public`으로 선언된 필드를 구성하지 않는 것이 좋다.

이미 class 자체가 제한 없이 접근할 수 있는 상태에서 필드마저 제한 없이 접근할 수 있으면, 해당 필드를 사용자가 임의르 수정 할 수 있게 되며, 그에 따라 비정상적인 동작이 이루어질 수 있다.
 - *또한 class 입장에서 해당 필드에 대한 제어를 완전히 잃게 된다*

그렇기에 주로 `public` 클래스 내 필드들은 `private` 등의 제한된 접근 방식으로 구성하여 필드 자체에 직접 접근하지 못하게 하는 대신 getter() 와 같은 접근자 메소드를 `public` 하게 선언되어 조회는 누구나 가능하게끔 제공할 수 있다.

위와 같이 `public`한 접근 메소드를 제공함으로써 외부에서는 특정 필드에 대한 데이터를 얻을 수 있으며, class 자체에서는 필드를 수정함에 있어서 보다 간편히 수정할 수 있게 된다.
- *getter() 메소드에 대한 응답 데이터만 일관화 하면 되기 때문*
# 3. 변경 가능성을 최소화 하라
외부에서 접근할 수 있도록 한 `public`한 class들의 경우 내부 필드가 최대한 수정이 되지 않는 상수여야, 사용자 입장에서도 늘 같은 값을 기대할 수 있으며, 개발자 입장에서도 고려해야될 오류를 줄일 수 있다.

불변 객체의 경우, 언어 레벨에서 이미 해당 데이터의 값이 변경될 수 없음을 보장하기에, 여러 쓰레드에서 해당 필드를 사용하더라도 문제가 되지 않으며, 잠시라도 정합성이 깨질 일이 없다는 장점이 있다.

단, 불변 객체에도 단점이 있는데, 불변을 유지하기 위해 여러 연유로 다른 값으로 변경이 필요할 경우, 값마다 별도의 객체를 신규로 생성해야 한다.
- *이는 작은 단위면 문제 없으나 객체 생성에 큰 자원이 소모되는 요소들의 경우, 성능 상 단점으로 부각될 수 있음*

위와 같은 단점을 보완하고자 불변 객체와 쌍을 이루는 가변 연산 처리를 도와주는 객체들도 존재한다
- *ex) 불변 객체인 `String`의 연산 작업 등을 위한 `StringBuilder`가 대표적*

## 3-1. 불변 객체 생성 규칙
1. 불변 객체는 상태를 변경할 수 있는 메소드를 외부에 제공하지 않는다.
	setter() 와 같이 필드 값을 수정할 수 있는 메소드를 구성하지 않음
2. 클래스를 확장할 수 없도록 한다.
	확장한 클래스가 기존 필드를 재정의할 수 없게끔, 생성자에 대한 접근을 제한하여 확장 할 수 없도록 함
3. 모든 필드를 final 키워드로 생성한다.
	`final` 키워드로 사용함으로써 불변임을 명시함
4. 모든 필드를 private 키워드로 생성한다.
	`private` 키워드로 생성함으로써 외부에서 접근할 수 없도록 막음
